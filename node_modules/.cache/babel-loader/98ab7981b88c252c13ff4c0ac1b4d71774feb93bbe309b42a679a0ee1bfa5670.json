{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/audio/wavesurfer/SuperZhestkyiPlayer/WordMarker.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WordMarker = ({\n  keyword,\n  color,\n  wavesurfer,\n  zoom,\n  isReady,\n  channelCount\n}) => {\n  _s();\n  const markerRef = useRef(null);\n  useEffect(() => {\n    if (!isReady) return;\n    const updatePosition = () => {\n      if (markerRef.current && wavesurfer) {\n        const duration = wavesurfer.getDuration();\n        const containerWidth = wavesurfer.drawer.width;\n        const scrollLeft = wavesurfer.drawer.getScrollX();\n        const markerPosition = keyword.Start / duration * containerWidth;\n        const adjustedPosition = markerPosition - scrollLeft;\n        markerRef.current.style.left = `${adjustedPosition}px`;\n        markerRef.current.style.display = adjustedPosition >= 0 && adjustedPosition <= containerWidth ? 'block' : 'none';\n      }\n    };\n    updatePosition();\n    wavesurfer.on('scroll', updatePosition);\n    wavesurfer.on('zoom', updatePosition);\n    return () => {\n      wavesurfer.un('scroll', updatePosition);\n      wavesurfer.un('zoom', updatePosition);\n    };\n  }, [keyword, wavesurfer, zoom, isReady]);\n  const handleClick = () => {\n    wavesurfer.setCurrentTime(keyword.Start);\n  };\n  const markerHeight = channelCount === 1 ? '34%' : '100%';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: markerRef,\n    onClick: handleClick,\n    style: {\n      position: 'absolute',\n      top: 0,\n      height: markerHeight,\n      width: '2px',\n      backgroundColor: color,\n      cursor: 'pointer'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '-20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        backgroundColor: color,\n        padding: '2px 5px',\n        borderRadius: '3px',\n        color: 'white',\n        fontSize: '12px'\n      },\n      children: keyword.Name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(WordMarker, \"x5wWyXK0+mHGg2Y0I8gN07knkVQ=\");\n_c = WordMarker;\nexport default WordMarker;\nvar _c;\n$RefreshReg$(_c, \"WordMarker\");","map":{"version":3,"names":["useRef","useEffect","jsxDEV","_jsxDEV","WordMarker","keyword","color","wavesurfer","zoom","isReady","channelCount","_s","markerRef","updatePosition","current","duration","getDuration","containerWidth","drawer","width","scrollLeft","getScrollX","markerPosition","Start","adjustedPosition","style","left","display","on","un","handleClick","setCurrentTime","markerHeight","ref","onClick","position","top","height","backgroundColor","cursor","children","transform","padding","borderRadius","fontSize","Name","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/audio/wavesurfer/SuperZhestkyiPlayer/WordMarker.tsx"],"sourcesContent":["import { FC, useRef, useEffect } from \"react\";\nimport { KeywordColor } from \"../../AudioContext\";\n\n\n\nconst WordMarker: FC<{keyword: KeywordColor['keyword'], color: string, wavesurfer: any, zoom: number, isReady: boolean, channelCount: number}> = ({ keyword, color, wavesurfer, zoom, isReady, channelCount }) => {\n    const markerRef = useRef<HTMLDivElement>(null);\n  \n    useEffect(() => {\n        if (!isReady) return;\n      const updatePosition = () => {\n        if (markerRef.current && wavesurfer) {\n          const duration = wavesurfer.getDuration();\n          const containerWidth = wavesurfer.drawer.width;\n          const scrollLeft = wavesurfer.drawer.getScrollX();\n  \n          const markerPosition = (keyword.Start / duration) * containerWidth;\n          const adjustedPosition = markerPosition - scrollLeft;\n  \n          markerRef.current.style.left = `${adjustedPosition}px`;\n          markerRef.current.style.display = adjustedPosition >= 0 && adjustedPosition <= containerWidth ? 'block' : 'none';\n        }\n      };\n  \n      updatePosition();\n      wavesurfer.on('scroll', updatePosition);\n      wavesurfer.on('zoom', updatePosition);\n  \n      return () => {\n        wavesurfer.un('scroll', updatePosition);\n        wavesurfer.un('zoom', updatePosition);\n      };\n    }, [keyword, wavesurfer, zoom, isReady]);\n\n  const handleClick = () => {\n    wavesurfer.setCurrentTime(keyword.Start);\n  };\n\n  const markerHeight = channelCount === 1 ? '34%' : '100%';\n  \n\n  return (\n    <div\n      ref={markerRef}\n      onClick={handleClick}\n      style={{\n        position: 'absolute',\n        top: 0,\n        height: markerHeight,\n        width: '2px',\n        backgroundColor: color,\n        cursor: 'pointer',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          top: '-20px',\n          left: '50%',\n          transform: 'translateX(-50%)',\n          backgroundColor: color,\n          padding: '2px 5px',\n          borderRadius: '3px',\n          color: 'white',\n          fontSize: '12px',\n        }}\n      >\n        {keyword.Name}\n      </div>\n    </div>\n  );\n};\n\nexport default WordMarker"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}