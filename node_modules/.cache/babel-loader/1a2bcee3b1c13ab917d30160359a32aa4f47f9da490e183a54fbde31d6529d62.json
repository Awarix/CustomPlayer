{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/audio/wavesurfer/SuperZhestkyiPlayer/Compact.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\nimport WaveSurferClass from \"wavesurfer.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompactPlayer = ({\n  url,\n  isPlay,\n  setIsPlay,\n  currentTime,\n  setCurrentTime,\n  wavesurferRef\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  //   const wavesurferRef = useRef<WaveSurferClass | null>(null);\n  const [isReady, setIsReady] = useState(false);\n  useEffect(() => {\n    if (containerRef.current && !wavesurferRef.current) {\n      wavesurferRef.current = WaveSurferClass.create({\n        container: containerRef.current,\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n        height: 40,\n        barWidth: 2,\n        barGap: 1\n      });\n      wavesurferRef.current.on('ready', () => {\n        setIsReady(true);\n      });\n      wavesurferRef.current.load(url);\n    }\n  }, [url, currentTime, setCurrentTime]);\n  useEffect(() => {\n    if (wavesurferRef.current && isReady) {\n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }\n  }, [isPlay, isReady]);\n  const handlePlayPause = () => {\n    if (isReady) {\n      setIsPlay(!isPlay);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      color: \"primary\",\n      size: \"medium\",\n      onClick: handlePlayPause,\n      disabled: !isReady,\n      children: isPlay ? /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 64\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        flex: 1,\n        marginLeft: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(CompactPlayer, \"8JAUZYH5wIN1BfUIABWYaYOeAFE=\");\n_c = CompactPlayer;\nexport default CompactPlayer;\nvar _c;\n$RefreshReg$(_c, \"CompactPlayer\");","map":{"version":3,"names":["useRef","useState","useEffect","IconButton","PlayCircleFilledIcon","PauseCircleFilledIcon","WaveSurferClass","jsxDEV","_jsxDEV","CompactPlayer","url","isPlay","setIsPlay","currentTime","setCurrentTime","wavesurferRef","_s","containerRef","isReady","setIsReady","current","create","container","waveColor","progressColor","cursorColor","responsive","height","barWidth","barGap","on","load","play","pause","handlePlayPause","style","display","alignItems","width","children","color","size","onClick","disabled","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","ref","flex","marginLeft","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/audio/wavesurfer/SuperZhestkyiPlayer/Compact.tsx"],"sourcesContent":["import { FC, useMemo, useRef, useState, useEffect, useCallback } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\nimport ZoomInIcon from \"@material-ui/icons/ZoomIn\";\nimport ZoomOutIcon from \"@material-ui/icons/ZoomOut\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { WaveSurfer, WaveForm } from \"wavesurfer-react\";\nimport { currTimeSubscriber } from \"../../../subscribers/PlayerSubscriber\";\nimport { SegmentModel as Segment } from \"../../AudioContext\";\nimport WaveSurferClass from \"wavesurfer.js\";\n\nconst CompactPlayer: FC<{ url: string; isPlay: boolean; setIsPlay: (play: boolean) => void; currentTime: number; setCurrentTime: (time: number) => void;\n   wavesurferRef: any; }> = ({ url, isPlay, setIsPlay, currentTime, setCurrentTime, wavesurferRef }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n//   const wavesurferRef = useRef<WaveSurferClass | null>(null);\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    if (containerRef.current && !wavesurferRef.current) {\n      wavesurferRef.current = WaveSurferClass.create({\n        container: containerRef.current,\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n        height: 40,\n        barWidth: 2,\n        barGap: 1,\n      });\n\n      wavesurferRef.current.on('ready', () => {\n        setIsReady(true);\n      });\n\n      wavesurferRef.current.load(url);\n    }\n\n  }, [url, currentTime, setCurrentTime]);\n\n  useEffect(() => {\n    if (wavesurferRef.current && isReady) {\n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }\n  }, [isPlay, isReady]);\n\n  const handlePlayPause = () => {\n    if (isReady) {\n      setIsPlay(!isPlay);\n    }\n  };\n\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\", width: \"100%\" }}>\n      <IconButton\n        color=\"primary\"\n        size=\"medium\"\n        onClick={handlePlayPause}\n        disabled={!isReady}\n      >\n        {isPlay ? <PauseCircleFilledIcon fontSize=\"large\" /> : <PlayCircleFilledIcon fontSize=\"large\" />}\n      </IconButton>\n      <div ref={containerRef} style={{ flex: 1, marginLeft: 10 }} />\n    </div>\n  );\n};\n\nexport default CompactPlayer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}