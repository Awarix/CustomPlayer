{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/audio/wavesurfer/SuperAudioPlayer/ExpandedPlayer.tsx\",\n  _s = $RefreshSig$();\n// ExpandedPlayer.js\nimport React, { useEffect, useRef, useCallback } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport PlayCircleFilledIcon from \"@mui/icons-material/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@mui/icons-material/PauseCircleFilled\";\nimport ZoomInIcon from \"@mui/icons-material/ZoomIn\";\nimport ZoomOutIcon from \"@mui/icons-material/ZoomOut\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExpandedPlayer = ({\n  url,\n  isPlay,\n  togglePlay,\n  currentTime,\n  onTimeUpdate,\n  zoom,\n  onZoomUpdate\n}) => {\n  _s();\n  const wavesurferRef = useRef(null);\n  const handleTimeUpdate = useCallback(time => {\n    onTimeUpdate(time);\n  }, [onTimeUpdate]);\n  const handleZoomUpdate = useCallback(zoom => {\n    onZoomUpdate(zoom);\n  }, [onZoomUpdate]);\n  useEffect(() => {\n    if (!wavesurferRef.current) {\n      wavesurferRef.current = WaveSurfer.create({\n        container: \"#waveform\",\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true\n      });\n      wavesurferRef.current.on(\"ready\", () => {\n        var _wavesurferRef$curren, _wavesurferRef$curren2;\n        (_wavesurferRef$curren = wavesurferRef.current) === null || _wavesurferRef$curren === void 0 ? void 0 : _wavesurferRef$curren.setCurrentTime(currentTime);\n        (_wavesurferRef$curren2 = wavesurferRef.current) === null || _wavesurferRef$curren2 === void 0 ? void 0 : _wavesurferRef$curren2.zoom(zoom);\n        if (isPlay) {\n          var _wavesurferRef$curren3;\n          (_wavesurferRef$curren3 = wavesurferRef.current) === null || _wavesurferRef$curren3 === void 0 ? void 0 : _wavesurferRef$curren3.play();\n        }\n      });\n      wavesurferRef.current.on(\"audioprocess\", () => {\n        if (wavesurferRef.current) {\n          handleTimeUpdate(wavesurferRef.current.getCurrentTime());\n        }\n      });\n    }\n    return () => {\n      var _wavesurferRef$curren4;\n      (_wavesurferRef$curren4 = wavesurferRef.current) === null || _wavesurferRef$curren4 === void 0 ? void 0 : _wavesurferRef$curren4.destroy();\n    };\n  }, [url, currentTime, zoom, isPlay, handleTimeUpdate]);\n  useEffect(() => {\n    if (wavesurferRef.current && wavesurferRef.current.isReady) {\n      wavesurferRef.current.seekTo(currentTime / wavesurferRef.current.getDuration());\n    }\n  }, [currentTime]);\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      wavesurferRef.current.zoom(zoom);\n    }\n  }, [zoom]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        size: \"medium\",\n        onClick: togglePlay,\n        children: isPlay ? /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 66\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        size: \"medium\",\n        onClick: () => handleZoomUpdate(zoom * 2),\n        children: /*#__PURE__*/_jsxDEV(ZoomInIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        size: \"medium\",\n        onClick: () => handleZoomUpdate(zoom / 2),\n        children: /*#__PURE__*/_jsxDEV(ZoomOutIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"waveform\",\n      style: {\n        width: \"100%\",\n        height: \"300px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpandedPlayer, \"6DcP71op3DA54ylVkayn6xvCEBQ=\");\n_c = ExpandedPlayer;\nexport default ExpandedPlayer;\nvar _c;\n$RefreshReg$(_c, \"ExpandedPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","useCallback","IconButton","WaveSurfer","PlayCircleFilledIcon","PauseCircleFilledIcon","ZoomInIcon","ZoomOutIcon","jsxDEV","_jsxDEV","ExpandedPlayer","url","isPlay","togglePlay","currentTime","onTimeUpdate","zoom","onZoomUpdate","_s","wavesurferRef","handleTimeUpdate","time","handleZoomUpdate","current","create","container","waveColor","progressColor","cursorColor","responsive","on","_wavesurferRef$curren","_wavesurferRef$curren2","setCurrentTime","_wavesurferRef$curren3","play","getCurrentTime","_wavesurferRef$curren4","destroy","isReady","seekTo","getDuration","children","color","size","onClick","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","id","style","width","height","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/audio/wavesurfer/SuperAudioPlayer/ExpandedPlayer.tsx"],"sourcesContent":["// ExpandedPlayer.js\nimport React, { FC, useEffect, useRef, useCallback } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport PlayCircleFilledIcon from \"@mui/icons-material/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@mui/icons-material/PauseCircleFilled\";\nimport ZoomInIcon from \"@mui/icons-material/ZoomIn\";\nimport ZoomOutIcon from \"@mui/icons-material/ZoomOut\";\n\ninterface Props {\n  url: string;\n  isPlay: boolean;\n  togglePlay: () => void;\n  currentTime: number;\n  onTimeUpdate: (time: number) => void;\n  zoom: number;\n  onZoomUpdate: (zoom: number) => void;\n}\n\nconst ExpandedPlayer: FC<Props> = ({\n  url,\n  isPlay,\n  togglePlay,\n  currentTime,\n  onTimeUpdate,\n  zoom,\n  onZoomUpdate,\n}) => {\n  const wavesurferRef = useRef<WaveSurfer | null>(null);\n\n  const handleTimeUpdate = useCallback((time: number) => {\n    onTimeUpdate(time);\n  }, [onTimeUpdate]);\n\n  const handleZoomUpdate = useCallback((zoom: number) => {\n    onZoomUpdate(zoom);\n  }, [onZoomUpdate]);\n\n  useEffect(() => {\n    if (!wavesurferRef.current) {\n      wavesurferRef.current = WaveSurfer.create({\n        container: \"#waveform\",\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n      });\n\n      wavesurferRef.current.on(\"ready\", () => {\n        wavesurferRef.current?.setCurrentTime(currentTime);\n        wavesurferRef.current?.zoom(zoom);\n        if (isPlay) {\n          wavesurferRef.current?.play();\n        }\n      });\n\n      wavesurferRef.current.on(\"audioprocess\", () => {\n        if (wavesurferRef.current) {\n          handleTimeUpdate(wavesurferRef.current.getCurrentTime());\n        }\n      });\n    }\n\n    return () => {\n      wavesurferRef.current?.destroy();\n    };\n  }, [url, currentTime, zoom, isPlay, handleTimeUpdate]);\n\n  useEffect(() => {\n    if (wavesurferRef.current && wavesurferRef.current.isReady) {\n      wavesurferRef.current.seekTo(currentTime / wavesurferRef.current.getDuration());\n    }\n  }, [currentTime]);\n\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      wavesurferRef.current.zoom(zoom);\n    }\n  }, [zoom]);\n\n  return (\n    <div>\n      <div>\n        <IconButton color=\"primary\" size=\"medium\" onClick={togglePlay}>\n          {isPlay ? <PauseCircleFilledIcon fontSize=\"large\" /> : <PlayCircleFilledIcon fontSize=\"large\" />}\n        </IconButton>\n        <IconButton color=\"primary\" size=\"medium\" onClick={() => handleZoomUpdate(zoom * 2)}>\n          <ZoomInIcon fontSize=\"large\" />\n        </IconButton>\n        <IconButton color=\"primary\" size=\"medium\" onClick={() => handleZoomUpdate(zoom / 2)}>\n          <ZoomOutIcon fontSize=\"large\" />\n        </IconButton>\n      </div>\n      <div id=\"waveform\" style={{ width: \"100%\", height: \"300px\" }} />\n    </div>\n  );\n};\n\nexport default ExpandedPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}