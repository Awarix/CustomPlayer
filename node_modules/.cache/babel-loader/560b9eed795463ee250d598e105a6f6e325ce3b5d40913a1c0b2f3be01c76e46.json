{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/graph/CallGraph.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CallGraph = ({\n  callRecords\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const [selectedNode, setSelectedNode] = useState(null);\n  useEffect(() => {\n    if (!svgRef.current) return;\n    const svg = d3.select(svgRef.current);\n    const width = 2000;\n    const height = 1500;\n    svg.attr('width', width).attr('height', height);\n    const nodes = [];\n    const links = [];\n    const nodeMap = new Map();\n    callRecords.forEach(record => {\n      if (record.outgoingNumber && record.incomingNumber) {\n        if (!nodeMap.has(record.outgoingNumber)) {\n          const node = {\n            id: record.id,\n            name: record.outgoingNumber\n          }; // Используем номер телефона как имя\n          nodes.push(node);\n          nodeMap.set(record.outgoingNumber, node);\n        }\n        if (!nodeMap.has(record.incomingNumber)) {\n          const node = {\n            id: record.id,\n            name: record.incomingNumber\n          }; // Используем номер телефона как имя\n          nodes.push(node);\n          nodeMap.set(record.incomingNumber, node);\n        }\n        links.push({\n          source: record.outgoingNumber,\n          target: record.incomingNumber\n        });\n      }\n    });\n\n    // Добавление определения стрелки\n    svg.append(\"defs\").selectAll(\"marker\").data([\"end\"]).enter().append(\"marker\").attr(\"id\", \"arrow\").attr(\"viewBox\", \"0 -5 10 10\").attr(\"refX\", 15).attr(\"refY\", -1.5).attr(\"markerWidth\", 6).attr(\"markerHeight\", 6).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M0,-5L10,0L0,5\").attr(\"fill\", \"#999\");\n    const link = svg.append('g').selectAll('line').data(links).join('line').attr('stroke', '#999').attr('stroke-opacity', 0.6).attr('stroke-width', 1).attr(\"marker-end\", \"url(#arrow)\");\n    const simulation = d3.forceSimulation(nodes).force('link', d3.forceLink(links).id(d => d.id)).force('charge', d3.forceManyBody().strength(-100)).force('center', d3.forceCenter(width / 2, height / 2));\n    simulation.on('tick', () => {\n      link.attr('x1', d => d.source.x).attr('y1', d => d.source.y).attr('x2', d => d.target.x).attr('y2', d => d.target.y);\n      node.attr('cx', d => d.x).attr('cy', d => d.y);\n    });\n    const node = svg.append('g').selectAll('circle').data(nodes).join('circle').attr('r', 5).attr('fill', '#69b3a2').call(drag(simulation));\n    node.append('title').text(d => d.name);\n    node.on('click', (event, d) => {\n      const record = callRecords.find(r => r.outgoingNumber === d.id || r.incomingNumber === d.id);\n      setSelectedNode(record || null);\n\n      // Выделение выбранного узла\n      node.attr('fill', n => n === d ? '#ff0000' : '#69b3a2');\n\n      // Выделение связанных линий без изменения стрелок\n      link.attr('stroke', l => l.source === d || l.target === d ? '#ff0000' : '#999');\n    });\n\n    // Изменение размера узла в зависимости от количества связей\n    const nodeDegree = new Map();\n    links.forEach(link => {\n      nodeDegree.set(link.source, (nodeDegree.get(link.source) || 0) + 1);\n      nodeDegree.set(link.target, (nodeDegree.get(link.target) || 0) + 1);\n    });\n    node.attr('r', d => 5 + (nodeDegree.get(d.id) || 0)); // Увеличиваем радиус в зависимости от количества связей\n\n    // Функция для реализации перетаскивания узлов\n    function drag(simulation) {\n      function dragstarted(event) {\n        if (!event.active) simulation.alphaTarget(0.3).restart();\n        event.subject.fx = event.subject.x;\n        event.subject.fy = event.subject.y;\n      }\n      function dragged(event) {\n        event.subject.fx = event.x;\n        event.subject.fy = event.y;\n      }\n      function dragended(event) {\n        if (!event.active) simulation.alphaTarget(0);\n        event.subject.fx = null;\n        event.subject.fy = null;\n      }\n      return d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended);\n    }\n\n    // Добавление зума\n    const zoom = d3.zoom().scaleExtent([0.1, 10]).on('zoom', event => {\n      svg.selectAll('g').attr('transform', event.transform);\n    });\n    svg.call(zoom);\n\n    // Очистка при размонтировании компонента\n    return () => {\n      simulation.stop();\n    };\n  }, [callRecords]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: '20px'\n      },\n      children: selectedNode && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Selected Node Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Name: \", selectedNode.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Location: \", selectedNode.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Outgoing Number: \", selectedNode.outgoingNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Incoming Number: \", selectedNode.incomingNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 7\n  }, this);\n};\n_s(CallGraph, \"du1eM0UjDpZPVRaLYeqvECeB8aY=\");\n_c = CallGraph;\nexport default CallGraph;\nvar _c;\n$RefreshReg$(_c, \"CallGraph\");","map":{"version":3,"names":["React","useRef","useEffect","useState","d3","jsxDEV","_jsxDEV","CallGraph","callRecords","_s","svgRef","selectedNode","setSelectedNode","current","svg","select","width","height","attr","nodes","links","nodeMap","Map","forEach","record","outgoingNumber","incomingNumber","has","node","id","name","push","set","source","target","append","selectAll","data","enter","link","join","simulation","forceSimulation","force","forceLink","d","forceManyBody","strength","forceCenter","on","x","y","call","drag","text","event","find","r","n","l","nodeDegree","get","dragstarted","active","alphaTarget","restart","subject","fx","fy","dragged","dragended","zoom","scaleExtent","transform","stop","style","display","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","marginLeft","location","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/graph/CallGraph.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport * as d3 from 'd3';\n\ninterface CallRecord {\n  id: string;\n  outgoingNumber: string;\n  incomingNumber: string;\n  name: string;\n  location: string;\n}\n\ninterface Node extends d3.SimulationNodeDatum {\n  id: string;\n  name: string;\n}\n\ninterface Link extends d3.SimulationLinkDatum<Node> {\n  source: string;\n  target: string;\n}\n\ninterface Props {\n  callRecords: CallRecord[];\n}\n\nconst CallGraph: React.FC<Props> = ({ callRecords }) => {\n  const svgRef = useRef<SVGSVGElement>(null);\n  const [selectedNode, setSelectedNode] = useState<CallRecord | null>(null);\n\n  useEffect(() => {\n    if (!svgRef.current) return;\n\n    const svg = d3.select(svgRef.current);\n    const width = 2000;\n    const height = 1500;\n\n    svg.attr('width', width).attr('height', height);\n\n    const nodes: Node[] = [];\n    const links: Link[] = [];\n    const nodeMap = new Map<string, Node>();\n\n    callRecords.forEach(record => {\n      if (record.outgoingNumber && record.incomingNumber) {\n        if (!nodeMap.has(record.outgoingNumber)) {\n          const node = { id: record.id, name: record.outgoingNumber }; // Используем номер телефона как имя\n          nodes.push(node);\n          nodeMap.set(record.outgoingNumber, node);\n        }\n        if (!nodeMap.has(record.incomingNumber)) {\n          const node = { id: record.id, name: record.incomingNumber }; // Используем номер телефона как имя\n          nodes.push(node);\n          nodeMap.set(record.incomingNumber, node);\n        }\n        links.push({\n          source: record.outgoingNumber,\n          target: record.incomingNumber,\n        });\n      }\n    });\n\n    // Добавление определения стрелки\n    svg.append(\"defs\").selectAll(\"marker\")\n      .data([\"end\"])\n      .enter().append(\"marker\")\n        .attr(\"id\", \"arrow\")\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .attr(\"refX\", 15)\n        .attr(\"refY\", -1.5)\n        .attr(\"markerWidth\", 6)\n        .attr(\"markerHeight\", 6)\n        .attr(\"orient\", \"auto\")\n      .append(\"path\")\n        .attr(\"d\", \"M0,-5L10,0L0,5\")\n        .attr(\"fill\", \"#999\");\n\n    const link = svg.append('g')\n      .selectAll('line')\n      .data(links)\n      .join('line')\n      .attr('stroke', '#999')\n      .attr('stroke-opacity', 0.6)\n      .attr('stroke-width', 1)\n      .attr(\"marker-end\", \"url(#arrow)\"); \n      \n    const simulation = d3.forceSimulation(nodes)\n      .force('link', d3.forceLink(links).id((d: any) => d.id))\n      .force('charge', d3.forceManyBody().strength(-100))\n      .force('center', d3.forceCenter(width / 2, height / 2));\n\n      simulation.on('tick', () => {\n        link\n          .attr('x1', (d: any) => d.source.x)\n          .attr('y1', (d: any) => d.source.y)\n          .attr('x2', (d: any) => d.target.x)\n          .attr('y2', (d: any) => d.target.y);\n  \n        node\n          .attr('cx', (d: any) => d.x)\n          .attr('cy', (d: any) => d.y);\n      });\n\n    const node = svg.append('g')\n      .selectAll('circle')\n      .data(nodes)\n      .join('circle')\n      .attr('r', 5)\n      .attr('fill', '#69b3a2')\n      .call(drag(simulation) as any);\n\n    node.append('title')\n      .text((d: Node) => d.name);\n\n   \n  \n      node.on('click', (event: any, d: Node) => {\n        const record = callRecords.find(r => r.outgoingNumber === d.id || r.incomingNumber === d.id);\n        setSelectedNode(record || null);\n  \n        // Выделение выбранного узла\n        node.attr('fill', (n: Node) => n === d ? '#ff0000' : '#69b3a2');\n  \n        // Выделение связанных линий без изменения стрелок\n        link\n          .attr('stroke', (l: any) => (l.source === d || l.target === d) ? '#ff0000' : '#999')\n      });\n\n      // Изменение размера узла в зависимости от количества связей\n      const nodeDegree = new Map<string, number>();\n        links.forEach(link => {\n          nodeDegree.set(link.source, (nodeDegree.get(link.source) || 0) + 1);\n          nodeDegree.set(link.target, (nodeDegree.get(link.target) || 0) + 1);\n        });\n\n        node.attr('r', (d: any) => 5 + (nodeDegree.get(d.id) || 0)); // Увеличиваем радиус в зависимости от количества связей\n\n  \n      // Функция для реализации перетаскивания узлов\n      function drag(simulation: d3.Simulation<Node, undefined>) {\n        function dragstarted(event: any) {\n          if (!event.active) simulation.alphaTarget(0.3).restart();\n          event.subject.fx = event.subject.x;\n          event.subject.fy = event.subject.y;\n        }\n  \n        function dragged(event: any) {\n          event.subject.fx = event.x;\n          event.subject.fy = event.y;\n        }\n  \n        function dragended(event: any) {\n          if (!event.active) simulation.alphaTarget(0);\n          event.subject.fx = null;\n          event.subject.fy = null;\n        }\n  \n        return d3.drag()\n          .on('start', dragstarted)\n          .on('drag', dragged)\n          .on('end', dragended);\n      }\n  \n      // Добавление зума\n      const zoom = d3.zoom()\n        .scaleExtent([0.1, 10])\n        .on('zoom', (event) => {\n          svg.selectAll('g').attr('transform', event.transform);\n        });\n  \n      svg.call(zoom as any);\n  \n      // Очистка при размонтировании компонента\n      return () => {\n        simulation.stop();\n      };\n    }, [callRecords]);\n  \n    return (\n      <div style={{ display: 'flex' }}>\n        <svg ref={svgRef}></svg>\n        <div style={{ marginLeft: '20px' }}>\n          {selectedNode && (\n            <div>\n              <h3>Selected Node Info</h3>\n              <p>Name: {selectedNode.name}</p>\n              <p>Location: {selectedNode.location}</p>\n              <p>Outgoing Number: {selectedNode.outgoingNumber}</p>\n              <p>Incoming Number: {selectedNode.incomingNumber}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n  \n  export default CallGraph;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAO,KAAKC,EAAE,MAAM,IAAI;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAwBzB,MAAMC,SAA0B,GAAGA,CAAC;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACtD,MAAMC,MAAM,GAAGT,MAAM,CAAgB,IAAI,CAAC;EAC1C,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAoB,IAAI,CAAC;EAEzED,SAAS,CAAC,MAAM;IACd,IAAI,CAACQ,MAAM,CAACG,OAAO,EAAE;IAErB,MAAMC,GAAG,GAAGV,EAAE,CAACW,MAAM,CAACL,MAAM,CAACG,OAAO,CAAC;IACrC,MAAMG,KAAK,GAAG,IAAI;IAClB,MAAMC,MAAM,GAAG,IAAI;IAEnBH,GAAG,CAACI,IAAI,CAAC,OAAO,EAAEF,KAAK,CAAC,CAACE,IAAI,CAAC,QAAQ,EAAED,MAAM,CAAC;IAE/C,MAAME,KAAa,GAAG,EAAE;IACxB,MAAMC,KAAa,GAAG,EAAE;IACxB,MAAMC,OAAO,GAAG,IAAIC,GAAG,CAAe,CAAC;IAEvCd,WAAW,CAACe,OAAO,CAACC,MAAM,IAAI;MAC5B,IAAIA,MAAM,CAACC,cAAc,IAAID,MAAM,CAACE,cAAc,EAAE;QAClD,IAAI,CAACL,OAAO,CAACM,GAAG,CAACH,MAAM,CAACC,cAAc,CAAC,EAAE;UACvC,MAAMG,IAAI,GAAG;YAAEC,EAAE,EAAEL,MAAM,CAACK,EAAE;YAAEC,IAAI,EAAEN,MAAM,CAACC;UAAe,CAAC,CAAC,CAAC;UAC7DN,KAAK,CAACY,IAAI,CAACH,IAAI,CAAC;UAChBP,OAAO,CAACW,GAAG,CAACR,MAAM,CAACC,cAAc,EAAEG,IAAI,CAAC;QAC1C;QACA,IAAI,CAACP,OAAO,CAACM,GAAG,CAACH,MAAM,CAACE,cAAc,CAAC,EAAE;UACvC,MAAME,IAAI,GAAG;YAAEC,EAAE,EAAEL,MAAM,CAACK,EAAE;YAAEC,IAAI,EAAEN,MAAM,CAACE;UAAe,CAAC,CAAC,CAAC;UAC7DP,KAAK,CAACY,IAAI,CAACH,IAAI,CAAC;UAChBP,OAAO,CAACW,GAAG,CAACR,MAAM,CAACE,cAAc,EAAEE,IAAI,CAAC;QAC1C;QACAR,KAAK,CAACW,IAAI,CAAC;UACTE,MAAM,EAAET,MAAM,CAACC,cAAc;UAC7BS,MAAM,EAAEV,MAAM,CAACE;QACjB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;;IAEF;IACAZ,GAAG,CAACqB,MAAM,CAAC,MAAM,CAAC,CAACC,SAAS,CAAC,QAAQ,CAAC,CACnCC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CACbC,KAAK,CAAC,CAAC,CAACH,MAAM,CAAC,QAAQ,CAAC,CACtBjB,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CACnBA,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAC7BA,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAChBA,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAClBA,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CACtBA,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CACvBA,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CACxBiB,MAAM,CAAC,MAAM,CAAC,CACZjB,IAAI,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAC3BA,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;IAEzB,MAAMqB,IAAI,GAAGzB,GAAG,CAACqB,MAAM,CAAC,GAAG,CAAC,CACzBC,SAAS,CAAC,MAAM,CAAC,CACjBC,IAAI,CAACjB,KAAK,CAAC,CACXoB,IAAI,CAAC,MAAM,CAAC,CACZtB,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CACtBA,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAC3BA,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CACvBA,IAAI,CAAC,YAAY,EAAE,aAAa,CAAC;IAEpC,MAAMuB,UAAU,GAAGrC,EAAE,CAACsC,eAAe,CAACvB,KAAK,CAAC,CACzCwB,KAAK,CAAC,MAAM,EAAEvC,EAAE,CAACwC,SAAS,CAACxB,KAAK,CAAC,CAACS,EAAE,CAAEgB,CAAM,IAAKA,CAAC,CAAChB,EAAE,CAAC,CAAC,CACvDc,KAAK,CAAC,QAAQ,EAAEvC,EAAE,CAAC0C,aAAa,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAClDJ,KAAK,CAAC,QAAQ,EAAEvC,EAAE,CAAC4C,WAAW,CAAChC,KAAK,GAAG,CAAC,EAAEC,MAAM,GAAG,CAAC,CAAC,CAAC;IAEvDwB,UAAU,CAACQ,EAAE,CAAC,MAAM,EAAE,MAAM;MAC1BV,IAAI,CACDrB,IAAI,CAAC,IAAI,EAAG2B,CAAM,IAAKA,CAAC,CAACZ,MAAM,CAACiB,CAAC,CAAC,CAClChC,IAAI,CAAC,IAAI,EAAG2B,CAAM,IAAKA,CAAC,CAACZ,MAAM,CAACkB,CAAC,CAAC,CAClCjC,IAAI,CAAC,IAAI,EAAG2B,CAAM,IAAKA,CAAC,CAACX,MAAM,CAACgB,CAAC,CAAC,CAClChC,IAAI,CAAC,IAAI,EAAG2B,CAAM,IAAKA,CAAC,CAACX,MAAM,CAACiB,CAAC,CAAC;MAErCvB,IAAI,CACDV,IAAI,CAAC,IAAI,EAAG2B,CAAM,IAAKA,CAAC,CAACK,CAAC,CAAC,CAC3BhC,IAAI,CAAC,IAAI,EAAG2B,CAAM,IAAKA,CAAC,CAACM,CAAC,CAAC;IAChC,CAAC,CAAC;IAEJ,MAAMvB,IAAI,GAAGd,GAAG,CAACqB,MAAM,CAAC,GAAG,CAAC,CACzBC,SAAS,CAAC,QAAQ,CAAC,CACnBC,IAAI,CAAClB,KAAK,CAAC,CACXqB,IAAI,CAAC,QAAQ,CAAC,CACdtB,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CACZA,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CACvBkC,IAAI,CAACC,IAAI,CAACZ,UAAU,CAAQ,CAAC;IAEhCb,IAAI,CAACO,MAAM,CAAC,OAAO,CAAC,CACjBmB,IAAI,CAAET,CAAO,IAAKA,CAAC,CAACf,IAAI,CAAC;IAI1BF,IAAI,CAACqB,EAAE,CAAC,OAAO,EAAE,CAACM,KAAU,EAAEV,CAAO,KAAK;MACxC,MAAMrB,MAAM,GAAGhB,WAAW,CAACgD,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChC,cAAc,KAAKoB,CAAC,CAAChB,EAAE,IAAI4B,CAAC,CAAC/B,cAAc,KAAKmB,CAAC,CAAChB,EAAE,CAAC;MAC5FjB,eAAe,CAACY,MAAM,IAAI,IAAI,CAAC;;MAE/B;MACAI,IAAI,CAACV,IAAI,CAAC,MAAM,EAAGwC,CAAO,IAAKA,CAAC,KAAKb,CAAC,GAAG,SAAS,GAAG,SAAS,CAAC;;MAE/D;MACAN,IAAI,CACDrB,IAAI,CAAC,QAAQ,EAAGyC,CAAM,IAAMA,CAAC,CAAC1B,MAAM,KAAKY,CAAC,IAAIc,CAAC,CAACzB,MAAM,KAAKW,CAAC,GAAI,SAAS,GAAG,MAAM,CAAC;IACxF,CAAC,CAAC;;IAEF;IACA,MAAMe,UAAU,GAAG,IAAItC,GAAG,CAAiB,CAAC;IAC1CF,KAAK,CAACG,OAAO,CAACgB,IAAI,IAAI;MACpBqB,UAAU,CAAC5B,GAAG,CAACO,IAAI,CAACN,MAAM,EAAE,CAAC2B,UAAU,CAACC,GAAG,CAACtB,IAAI,CAACN,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;MACnE2B,UAAU,CAAC5B,GAAG,CAACO,IAAI,CAACL,MAAM,EAAE,CAAC0B,UAAU,CAACC,GAAG,CAACtB,IAAI,CAACL,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrE,CAAC,CAAC;IAEFN,IAAI,CAACV,IAAI,CAAC,GAAG,EAAG2B,CAAM,IAAK,CAAC,IAAIe,UAAU,CAACC,GAAG,CAAChB,CAAC,CAAChB,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;;IAG/D;IACA,SAASwB,IAAIA,CAACZ,UAA0C,EAAE;MACxD,SAASqB,WAAWA,CAACP,KAAU,EAAE;QAC/B,IAAI,CAACA,KAAK,CAACQ,MAAM,EAAEtB,UAAU,CAACuB,WAAW,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC;QACxDV,KAAK,CAACW,OAAO,CAACC,EAAE,GAAGZ,KAAK,CAACW,OAAO,CAAChB,CAAC;QAClCK,KAAK,CAACW,OAAO,CAACE,EAAE,GAAGb,KAAK,CAACW,OAAO,CAACf,CAAC;MACpC;MAEA,SAASkB,OAAOA,CAACd,KAAU,EAAE;QAC3BA,KAAK,CAACW,OAAO,CAACC,EAAE,GAAGZ,KAAK,CAACL,CAAC;QAC1BK,KAAK,CAACW,OAAO,CAACE,EAAE,GAAGb,KAAK,CAACJ,CAAC;MAC5B;MAEA,SAASmB,SAASA,CAACf,KAAU,EAAE;QAC7B,IAAI,CAACA,KAAK,CAACQ,MAAM,EAAEtB,UAAU,CAACuB,WAAW,CAAC,CAAC,CAAC;QAC5CT,KAAK,CAACW,OAAO,CAACC,EAAE,GAAG,IAAI;QACvBZ,KAAK,CAACW,OAAO,CAACE,EAAE,GAAG,IAAI;MACzB;MAEA,OAAOhE,EAAE,CAACiD,IAAI,CAAC,CAAC,CACbJ,EAAE,CAAC,OAAO,EAAEa,WAAW,CAAC,CACxBb,EAAE,CAAC,MAAM,EAAEoB,OAAO,CAAC,CACnBpB,EAAE,CAAC,KAAK,EAAEqB,SAAS,CAAC;IACzB;;IAEA;IACA,MAAMC,IAAI,GAAGnE,EAAE,CAACmE,IAAI,CAAC,CAAC,CACnBC,WAAW,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CACtBvB,EAAE,CAAC,MAAM,EAAGM,KAAK,IAAK;MACrBzC,GAAG,CAACsB,SAAS,CAAC,GAAG,CAAC,CAAClB,IAAI,CAAC,WAAW,EAAEqC,KAAK,CAACkB,SAAS,CAAC;IACvD,CAAC,CAAC;IAEJ3D,GAAG,CAACsC,IAAI,CAACmB,IAAW,CAAC;;IAErB;IACA,OAAO,MAAM;MACX9B,UAAU,CAACiC,IAAI,CAAC,CAAC;IACnB,CAAC;EACH,CAAC,EAAE,CAAClE,WAAW,CAAC,CAAC;EAEjB,oBACEF,OAAA;IAAKqE,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC9BvE,OAAA;MAAKwE,GAAG,EAAEpE;IAAO;MAAAqE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACxB5E,OAAA;MAAKqE,KAAK,EAAE;QAAEQ,UAAU,EAAE;MAAO,CAAE;MAAAN,QAAA,EAChClE,YAAY,iBACXL,OAAA;QAAAuE,QAAA,gBACEvE,OAAA;UAAAuE,QAAA,EAAI;QAAkB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3B5E,OAAA;UAAAuE,QAAA,GAAG,QAAM,EAAClE,YAAY,CAACmB,IAAI;QAAA;UAAAiD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChC5E,OAAA;UAAAuE,QAAA,GAAG,YAAU,EAAClE,YAAY,CAACyE,QAAQ;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxC5E,OAAA;UAAAuE,QAAA,GAAG,mBAAiB,EAAClE,YAAY,CAACc,cAAc;QAAA;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrD5E,OAAA;UAAAuE,QAAA,GAAG,mBAAiB,EAAClE,YAAY,CAACe,cAAc;QAAA;UAAAqD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzE,EAAA,CAxKEF,SAA0B;AAAA8E,EAAA,GAA1B9E,SAA0B;AA0K9B,eAAeA,SAAS;AAAC,IAAA8E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}