{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/audio/wavesurfer/SuperAudioPlayer/CompactPlayer.tsx\",\n  _s = $RefreshSig$();\n// CompactPlayer.js\nimport React, { useEffect, useRef, useCallback } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport PlayCircleFilledIcon from \"@mui/icons-material/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@mui/icons-material/PauseCircleFilled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompactPlayer = ({\n  url,\n  isPlay,\n  togglePlay,\n  currentTime,\n  onTimeUpdate\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const wavesurferRef = useRef(null);\n  const handleTimeUpdate = useCallback(time => {\n    onTimeUpdate(time);\n  }, [onTimeUpdate]);\n  useEffect(() => {\n    if (containerRef.current && !wavesurferRef.current) {\n      wavesurferRef.current = WaveSurfer.create({\n        container: containerRef.current,\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n        height: 40,\n        barWidth: 2,\n        barGap: 1\n      });\n      wavesurferRef.current.on(\"ready\", () => {\n        var _wavesurferRef$curren;\n        (_wavesurferRef$curren = wavesurferRef.current) === null || _wavesurferRef$curren === void 0 ? void 0 : _wavesurferRef$curren.setCurrentTime(currentTime);\n      });\n      wavesurferRef.current.on(\"audioprocess\", () => {\n        if (wavesurferRef.current) {\n          handleTimeUpdate(wavesurferRef.current.getCurrentTime());\n        }\n      });\n      wavesurferRef.current.load(url);\n    }\n    return () => {\n      var _wavesurferRef$curren2;\n      (_wavesurferRef$curren2 = wavesurferRef.current) === null || _wavesurferRef$curren2 === void 0 ? void 0 : _wavesurferRef$curren2.destroy();\n    };\n  }, [url, currentTime, handleTimeUpdate]);\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }\n  }, [isPlay]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      color: \"primary\",\n      size: \"medium\",\n      onClick: togglePlay,\n      children: isPlay ? /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 64\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        flex: 1,\n        marginLeft: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(CompactPlayer, \"znN7Ym7c9PFhnZlVi24kKHJNZWA=\");\n_c = CompactPlayer;\nexport default CompactPlayer;\nvar _c;\n$RefreshReg$(_c, \"CompactPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","useCallback","IconButton","WaveSurfer","PlayCircleFilledIcon","PauseCircleFilledIcon","jsxDEV","_jsxDEV","CompactPlayer","url","isPlay","togglePlay","currentTime","onTimeUpdate","_s","containerRef","wavesurferRef","handleTimeUpdate","time","current","create","container","waveColor","progressColor","cursorColor","responsive","height","barWidth","barGap","on","_wavesurferRef$curren","setCurrentTime","getCurrentTime","load","_wavesurferRef$curren2","destroy","play","pause","style","display","alignItems","width","children","color","size","onClick","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","ref","flex","marginLeft","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/audio/wavesurfer/SuperAudioPlayer/CompactPlayer.tsx"],"sourcesContent":["// CompactPlayer.js\nimport React, { FC, useEffect, useRef, useCallback } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport PlayCircleFilledIcon from \"@mui/icons-material/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@mui/icons-material/PauseCircleFilled\";\n\ninterface Props {\n  url: string;\n  isPlay: boolean;\n  togglePlay: () => void;\n  currentTime: number;\n  onTimeUpdate: (time: number) => void;\n}\n\nconst CompactPlayer: FC<Props> = ({ url, isPlay, togglePlay, currentTime, onTimeUpdate }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const wavesurferRef = useRef<WaveSurfer | null>(null);\n\n  const handleTimeUpdate = useCallback((time: number) => {\n    onTimeUpdate(time);\n  }, [onTimeUpdate]);\n\n  useEffect(() => {\n    if (containerRef.current && !wavesurferRef.current) {\n      wavesurferRef.current = WaveSurfer.create({\n        container: containerRef.current,\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n        height: 40,\n        barWidth: 2,\n        barGap: 1,\n      });\n\n      wavesurferRef.current.on(\"ready\", () => {\n        wavesurferRef.current?.setCurrentTime(currentTime);\n      });\n\n      wavesurferRef.current.on(\"audioprocess\", () => {\n        if (wavesurferRef.current) {\n          handleTimeUpdate(wavesurferRef.current.getCurrentTime());\n        }\n      });\n\n      wavesurferRef.current.load(url);\n    }\n\n    return () => {\n      wavesurferRef.current?.destroy();\n    };\n  }, [url, currentTime, handleTimeUpdate]);\n\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }\n  }, [isPlay]);\n\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\", width: \"100%\" }}>\n      <IconButton color=\"primary\" size=\"medium\" onClick={togglePlay}>\n        {isPlay ? <PauseCircleFilledIcon fontSize=\"large\" /> : <PlayCircleFilledIcon fontSize=\"large\" />}\n      </IconButton>\n      <div ref={containerRef} style={{ flex: 1, marginLeft: 10 }} />\n    </div>\n  );\n};\n\nexport default CompactPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}