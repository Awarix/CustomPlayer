{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/audio/wavesurfer/SuperZhestkyiPlayer/Player.tsx\",\n  _s = $RefreshSig$();\nimport { useMemo, useRef, useState, useEffect, useCallback } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\nimport ZoomInIcon from \"@material-ui/icons/ZoomIn\";\nimport ZoomOutIcon from \"@material-ui/icons/ZoomOut\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { WaveSurfer, WaveForm } from \"wavesurfer-react\";\nimport WordMarker from \"./WordMarker\";\nimport CompactPlayer from \"./Compact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimelinePlugin = require(\"wavesurfer.js/dist/plugin/wavesurfer.timeline.min\");\nconst ZhestkyiPlayer = ({\n  file,\n  url,\n  keywords,\n  channelCount\n}) => {\n  _s();\n  const [isPlay, setIsPlay] = useState(false);\n  const [autoCenter, setAutoCenter] = useState(true);\n  const [zoom, setZoom] = useState(10);\n  // const [activeSegment, setActiveSegment] = useState<Segment | null>(activeSegmentProp);\n  const [isWavesurferReady, setIsWavesurferReady] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const plugins = useMemo(() => [{\n    plugin: TimelinePlugin,\n    options: {\n      container: \"#timeline\"\n    }\n  }], []);\n  const wavesurferRef = useRef(null);\n  const handleWSMount = useCallback(waveSurfer => {\n    wavesurferRef.current = waveSurfer;\n    wavesurferRef.current.load(url);\n    wavesurferRef.current.on(\"ready\", () => {\n      var _wavesurferRef$curren;\n      setIsWavesurferReady(true); // Устанавливаем готовность\n      (_wavesurferRef$curren = wavesurferRef.current) === null || _wavesurferRef$curren === void 0 ? void 0 : _wavesurferRef$curren.setCurrentTime(currentTime);\n      if (isPlay) {\n        var _wavesurferRef$curren2;\n        (_wavesurferRef$curren2 = wavesurferRef.current) === null || _wavesurferRef$curren2 === void 0 ? void 0 : _wavesurferRef$curren2.play();\n      }\n    });\n    wavesurferRef.current.on(\"audioprocess\", () => {\n      if (wavesurferRef.current) {\n        setCurrentTime(wavesurferRef.current.getCurrentTime());\n      }\n    });\n  }, [url, currentTime, isPlay]);\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      const length = wavesurferRef.current.getDuration();\n      if (length) {\n        wavesurferRef.current.seekTo(currentTime / length);\n      }\n    }\n  }, [currentTime]);\n  const setZoomClick = zoom => {\n    if (zoom < 5) zoom = 5;\n    if (zoom > 1000) zoom = 1000;\n    setZoom(zoom);\n  };\n  useEffect(() => {\n    if (!wavesurferRef.current) return;\n    setZoom(10);\n    if (url === \"\") return;\n    wavesurferRef.current.load(url);\n  }, [file, url]);\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      wavesurferRef.current.zoom(zoom);\n      wavesurferRef.current.fireEvent('zoom', zoom);\n    }\n  }, [zoom]);\n  useEffect(() => {\n    if (!wavesurferRef.current) return;\n    if (isPlay) {\n      wavesurferRef.current.play();\n    } else {\n      wavesurferRef.current.pause();\n    }\n  }, [isPlay]);\n\n  // useEffect(() => {\n  //   if (!wavesurferRef.current) return;\n\n  //   setActiveSegment(activeSegmentProp);\n\n  //   if (activeSegmentProp) {\n  //     let zoomFactor = 500;\n  //     const width = wavesurferRef.current.drawer.wrapper.clientWidth;\n  //     const segmentDuration = activeSegmentProp.End - activeSegmentProp.Start;\n\n  //     for (let i = 0; i < 10; i++) {\n  //       if (segmentDuration * zoomFactor < width) break;\n  //       zoomFactor /= 2;\n  //     }\n  //     if (zoomFactor < 5) zoomFactor = 5;\n\n  //     setZoomClick(zoomFactor);\n  //     setAutoCenter(false);\n  //     setIsPlay(true);\n\n  //     const total = wavesurferRef.current.getDuration();\n  //     if (total > 0) {\n  //       const centerTime = activeSegmentProp.Start + (segmentDuration) / 2;\n  //       const t1 = centerTime / total;\n\n  //       wavesurferRef.current.zoom(zoomFactor);\n  //       wavesurferRef.current.seekAndCenter(t1);\n  //       wavesurferRef.current.setCurrentTime(activeSegmentProp.Start);\n  //       wavesurferRef.current.play();\n  //     }\n  //   }\n\n  //   const subscription = currTimeSubscriber.subscribe(currentTime => {\n  //     if (wavesurferRef.current && activeSegmentProp && currentTime >= activeSegmentProp.End) {\n  //       wavesurferRef.current.setCurrentTime(activeSegmentProp.Start);\n  //     }\n  //   });\n\n  //   return () => {\n  //     subscription.unsubscribe();\n  //   };\n  // }, [activeSegmentProp]);\n\n  // обработчик нажатия клавиш\n  const handleKeyDown = useCallback(event => {\n    var _document$activeEleme, _document$activeEleme2;\n    if (!wavesurferRef.current) {\n      return;\n    }\n    const {\n      key,\n      ctrlKey\n    } = event;\n    let isNeedExKey = ((_document$activeEleme = document.activeElement) === null || _document$activeEleme === void 0 ? void 0 : _document$activeEleme.tagName) === \"TEXTAREA\";\n    isNeedExKey = isNeedExKey || ((_document$activeEleme2 = document.activeElement) === null || _document$activeEleme2 === void 0 ? void 0 : _document$activeEleme2.tagName) === \"INPUT\";\n    let isEx = true;\n    if (isNeedExKey) {\n      isEx = ctrlKey;\n    }\n    if (key === \" \" && isEx) {\n      setIsPlay(prev => !prev);\n    }\n    if ((key === \"a\" || key === \"d\" || key === \"ф\" || key === \"в\") && isEx) {\n      let diff = 5;\n      // if (activeSegment !== null) diff = 1;\n      if (key === \"a\" || key === \"ф\") diff *= -1;\n      const total = wavesurferRef.current.getDuration();\n      let need = wavesurferRef.current.getCurrentTime() + diff;\n      if (need < 0) need = 0;\n      if (need > total) need = total;\n      wavesurferRef.current.setCurrentTime(need);\n      setIsPlay(true);\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [handleKeyDown]);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    style: {\n      position: \"fixed\",\n      bottom: 0,\n      left: 0,\n      width: \"100%\",\n      zIndex: 1000,\n      padding: \"10px\",\n      boxSizing: \"border-box\",\n      transition: \"height 0.3s ease\",\n      height: isExpanded ? \"400px\" : \"80px\",\n      overflow: isExpanded ? \"auto\" : \"hidden\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      },\n      children: [isExpanded ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          size: \"medium\",\n          onClick: () => setIsPlay(prev => !prev),\n          children: isPlay ? /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 70\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          size: \"medium\",\n          title: \"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C \\u043C\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\",\n          onClick: () => setZoomClick(zoom * 2),\n          children: /*#__PURE__*/_jsxDEV(ZoomInIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          size: \"medium\",\n          title: \"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C \\u043C\\u0430\\u0441\\u0448\\u0442\\u0430\\u0431\",\n          onClick: () => setZoomClick(zoom / 2),\n          children: /*#__PURE__*/_jsxDEV(ZoomOutIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(CompactPlayer, {\n        url: url,\n        isPlay: isPlay,\n        setIsPlay: setIsPlay,\n        currentTime: currentTime,\n        setCurrentTime: setCurrentTime\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"primary\",\n        size: \"medium\",\n        onClick: () => setIsExpanded(prev => !prev),\n        children: isExpanded ? /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(ExpandLessIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\",\n        position: \"relative\",\n        marginTop: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(WaveSurfer, {\n        onMount: handleWSMount,\n        plugins: plugins,\n        children: [/*#__PURE__*/_jsxDEV(WaveForm, {\n          id: \"waveform\",\n          waveColor: \"#b7e1dd\",\n          progressColor: \"#4Db6AC\",\n          cursorColor: \"#357F78\",\n          autoCenter: autoCenter,\n          splitChannels: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"20px\"\n          },\n          id: \"timeline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), isWavesurferReady && wavesurferRef.current && keywords.map((kw, index) => /*#__PURE__*/_jsxDEV(WordMarker, {\n        keyword: kw.keyword,\n        color: kw.color,\n        wavesurfer: wavesurferRef.current,\n        zoom: zoom,\n        isReady: isWavesurferReady,\n        channelCount: channelCount\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 7\n  }, this);\n};\n_s(ZhestkyiPlayer, \"OvfA0dz3/DTy/3mQIkFnegViwN4=\");\n_c = ZhestkyiPlayer;\nexport default ZhestkyiPlayer;\nvar _c;\n$RefreshReg$(_c, \"ZhestkyiPlayer\");","map":{"version":3,"names":["useMemo","useRef","useState","useEffect","useCallback","IconButton","PlayCircleFilledIcon","PauseCircleFilledIcon","ZoomInIcon","ZoomOutIcon","ExpandLessIcon","ExpandMoreIcon","Paper","WaveSurfer","WaveForm","WordMarker","CompactPlayer","jsxDEV","_jsxDEV","TimelinePlugin","require","ZhestkyiPlayer","file","url","keywords","channelCount","_s","isPlay","setIsPlay","autoCenter","setAutoCenter","zoom","setZoom","isWavesurferReady","setIsWavesurferReady","isExpanded","setIsExpanded","currentTime","setCurrentTime","plugins","plugin","options","container","wavesurferRef","handleWSMount","waveSurfer","current","load","on","_wavesurferRef$curren","_wavesurferRef$curren2","play","getCurrentTime","length","getDuration","seekTo","setZoomClick","fireEvent","pause","handleKeyDown","event","_document$activeEleme","_document$activeEleme2","key","ctrlKey","isNeedExKey","document","activeElement","tagName","isEx","prev","diff","total","need","preventDefault","stopPropagation","window","addEventListener","removeEventListener","elevation","style","position","bottom","left","width","zIndex","padding","boxSizing","transition","height","overflow","children","display","justifyContent","alignItems","color","size","onClick","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","title","marginTop","onMount","id","waveColor","progressColor","cursorColor","splitChannels","map","kw","index","keyword","wavesurfer","isReady","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/audio/wavesurfer/SuperZhestkyiPlayer/Player.tsx"],"sourcesContent":["import { FC, useMemo, useRef, useState, useEffect, useCallback } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\nimport ZoomInIcon from \"@material-ui/icons/ZoomIn\";\nimport ZoomOutIcon from \"@material-ui/icons/ZoomOut\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { WaveSurfer, WaveForm } from \"wavesurfer-react\";\nimport { currTimeSubscriber } from \"../../../subscribers/PlayerSubscriber\";\nimport { SegmentModel as Segment } from \"../../AudioContext\";\nimport WaveSurferClass from \"wavesurfer.js\";\nimport WordMarker from \"./WordMarker\";\nimport CompactPlayer from \"./Compact\";\n\nconst TimelinePlugin = require(\"wavesurfer.js/dist/plugin/wavesurfer.timeline.min\");\n\ninterface KeywordColor {\n  keyword: {\n    Start: number;\n    End: number;\n    Name: string;\n    ChannelNumber: number;\n    Confidence: number;\n  };\n  color: string;\n}\n\ninterface Props {\n  file: File | null;\n  // activeSegmentProp: Segment | null;\n  url: string;\n  keywords: KeywordColor[];\n  channelCount: number;\n}\n\nconst ZhestkyiPlayer: FC<Props> = ({ file, url, keywords, channelCount }) => {\n    const [isPlay, setIsPlay] = useState<boolean>(false);\n    const [autoCenter, setAutoCenter] = useState<boolean>(true);\n    const [zoom, setZoom] = useState<number>(10);\n    // const [activeSegment, setActiveSegment] = useState<Segment | null>(activeSegmentProp);\n    const [isWavesurferReady, setIsWavesurferReady] = useState<boolean>(false);\n    const [isExpanded, setIsExpanded] = useState<boolean>(false);\n    const [currentTime, setCurrentTime] = useState<number>(0);\n  \n    const plugins = useMemo(() => [\n      {\n        plugin: TimelinePlugin,\n        options: { container: \"#timeline\" },\n      },\n    ], []);\n  \n    const wavesurferRef = useRef<any>(null);\n  \n    const handleWSMount = useCallback((waveSurfer) => {\n      wavesurferRef.current = waveSurfer;\n      wavesurferRef.current.load(url);\n  \n      wavesurferRef.current.on(\"ready\", () => {\n          setIsWavesurferReady(true);  // Устанавливаем готовность\n          wavesurferRef.current?.setCurrentTime(currentTime);\n          if (isPlay) {\n              wavesurferRef.current?.play();\n          }\n      });\n  \n      wavesurferRef.current.on(\"audioprocess\", () => {\n          if (wavesurferRef.current) {\n              setCurrentTime(wavesurferRef.current.getCurrentTime());\n          }\n      });\n  }, [url, currentTime, isPlay]);\n\n    useEffect(() => {\n      if (wavesurferRef.current) {\n        const length =  wavesurferRef.current.getDuration()\n        if (length ) {\n          wavesurferRef.current.seekTo(currentTime / length);\n        }\n      }\n    }, [currentTime]);\n  \n    const setZoomClick = (zoom: number) => {\n      if (zoom < 5) zoom = 5;\n      if (zoom > 1000) zoom = 1000;\n      setZoom(zoom);\n    };\n  \n    useEffect(() => {\n      if (!wavesurferRef.current) return;\n  \n      setZoom(10);\n  \n      if (url === \"\") return;\n  \n      wavesurferRef.current.load(url);\n    }, [file, url]);\n  \n    useEffect(() => {\n        if (wavesurferRef.current) {\n        wavesurferRef.current.zoom(zoom);\n        wavesurferRef.current.fireEvent('zoom', zoom);\n        }\n    }, [zoom]);\n  \n    useEffect(() => {\n      if (!wavesurferRef.current) return;\n  \n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }, [isPlay]);\n  \n    // useEffect(() => {\n    //   if (!wavesurferRef.current) return;\n  \n    //   setActiveSegment(activeSegmentProp);\n  \n    //   if (activeSegmentProp) {\n    //     let zoomFactor = 500;\n    //     const width = wavesurferRef.current.drawer.wrapper.clientWidth;\n    //     const segmentDuration = activeSegmentProp.End - activeSegmentProp.Start;\n  \n    //     for (let i = 0; i < 10; i++) {\n    //       if (segmentDuration * zoomFactor < width) break;\n    //       zoomFactor /= 2;\n    //     }\n    //     if (zoomFactor < 5) zoomFactor = 5;\n  \n    //     setZoomClick(zoomFactor);\n    //     setAutoCenter(false);\n    //     setIsPlay(true);\n  \n    //     const total = wavesurferRef.current.getDuration();\n    //     if (total > 0) {\n    //       const centerTime = activeSegmentProp.Start + (segmentDuration) / 2;\n    //       const t1 = centerTime / total;\n  \n    //       wavesurferRef.current.zoom(zoomFactor);\n    //       wavesurferRef.current.seekAndCenter(t1);\n    //       wavesurferRef.current.setCurrentTime(activeSegmentProp.Start);\n    //       wavesurferRef.current.play();\n    //     }\n    //   }\n  \n    //   const subscription = currTimeSubscriber.subscribe(currentTime => {\n    //     if (wavesurferRef.current && activeSegmentProp && currentTime >= activeSegmentProp.End) {\n    //       wavesurferRef.current.setCurrentTime(activeSegmentProp.Start);\n    //     }\n    //   });\n  \n    //   return () => {\n    //     subscription.unsubscribe();\n    //   };\n    // }, [activeSegmentProp]);\n\n    // обработчик нажатия клавиш\n    const handleKeyDown = useCallback(\n        (event) => {\n          if (!wavesurferRef.current) {\n            return;\n          }\n    \n          const { key, ctrlKey } = event;\n          let isNeedExKey = document.activeElement?.tagName === \"TEXTAREA\";\n          isNeedExKey = isNeedExKey || document.activeElement?.tagName === \"INPUT\";\n          let isEx = true;\n          if (isNeedExKey) {\n            isEx = ctrlKey;\n          }\n    \n          if (key === \" \" && isEx) {\n            setIsPlay((prev) => !prev);\n          }\n    \n          if ((key === \"a\" || key === \"d\" || key === \"ф\" || key === \"в\") && isEx) {\n            let diff = 5;\n            // if (activeSegment !== null) diff = 1;\n            if (key === \"a\" || key === \"ф\") diff *= -1;\n    \n            const total = wavesurferRef.current.getDuration();\n            let need = wavesurferRef.current.getCurrentTime() + diff;\n            if (need < 0) need = 0;\n            if (need > total) need = total;\n    \n            wavesurferRef.current.setCurrentTime(need);\n            setIsPlay(true);\n\n            event.preventDefault();\n            event.stopPropagation();\n          }\n        },\n        []\n    );\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return () => {\n            window.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [handleKeyDown]);\n\n    return (\n      <Paper\n      elevation={3}\n      style={{\n        position: \"fixed\",\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        zIndex: 1000,\n        padding: \"10px\",\n        boxSizing: \"border-box\",\n        transition: \"height 0.3s ease\",\n        height: isExpanded ? \"400px\" : \"80px\",\n        overflow: isExpanded ? \"auto\" : \"hidden\",\n      }}\n    >\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        {isExpanded ? (\n          <div>\n            <IconButton\n              color=\"primary\"\n              size=\"medium\"\n              onClick={() => setIsPlay((prev) => !prev)}\n            >\n              {isPlay ? <PauseCircleFilledIcon fontSize=\"large\" /> : <PlayCircleFilledIcon fontSize=\"large\" />}\n            </IconButton>\n            <IconButton\n              color=\"primary\"\n              size=\"medium\"\n              title=\"Увеличить масштаб\"\n              onClick={() => setZoomClick(zoom * 2)}\n            >\n              <ZoomInIcon fontSize=\"large\" />\n            </IconButton>\n            <IconButton\n              color=\"primary\"\n              size=\"medium\"\n              title=\"Уменьшить масштаб\"\n              onClick={() => setZoomClick(zoom / 2)}\n            >\n              <ZoomOutIcon fontSize=\"large\" />\n            </IconButton>\n          </div>\n        ) : (\n          <CompactPlayer url={url} isPlay={isPlay} setIsPlay={setIsPlay} currentTime={currentTime} setCurrentTime={setCurrentTime}  />\n        )}\n        <IconButton\n          color=\"primary\"\n          size=\"medium\"\n          onClick={() => setIsExpanded((prev) => !prev)}\n        >\n          {isExpanded ? <ExpandMoreIcon fontSize=\"large\" /> : <ExpandLessIcon fontSize=\"large\" />}\n        </IconButton>\n      </div>\n      {isExpanded && (\n        <div style={{ width: \"100%\", position: \"relative\", marginTop: \"10px\" }}>\n          <WaveSurfer onMount={handleWSMount} plugins={plugins}>\n            <WaveForm\n              id=\"waveform\"\n              waveColor=\"#b7e1dd\"\n              progressColor=\"#4Db6AC\"\n              cursorColor=\"#357F78\"\n              autoCenter={autoCenter}\n              splitChannels={true}\n            />\n            <div style={{ height: \"20px\" }} id=\"timeline\" />\n          </WaveSurfer>\n\n          {isWavesurferReady && wavesurferRef.current && keywords.map((kw, index) => (\n            <WordMarker\n              key={index}\n              keyword={kw.keyword}\n              color={kw.color}\n              wavesurfer={wavesurferRef.current}\n              zoom={zoom}\n              isReady={isWavesurferReady}\n              channelCount={channelCount}\n            />\n          ))}\n        </div>\n      )}\n    </Paper>\n    );\n};\n\nexport default ZhestkyiPlayer;"],"mappings":";;AAAA,SAAaA,OAAO,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC7E,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,oBAAoB,MAAM,qCAAqC;AACtE,OAAOC,qBAAqB,MAAM,sCAAsC;AACxE,OAAOC,UAAU,MAAM,2BAA2B;AAClD,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,cAAc,MAAM,+BAA+B;AAC1D,OAAOC,cAAc,MAAM,+BAA+B;AAC1D,OAAOC,KAAK,MAAM,yBAAyB;AAC3C,SAASC,UAAU,EAAEC,QAAQ,QAAQ,kBAAkB;AAIvD,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,aAAa,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,cAAc,GAAGC,OAAO,CAAC,mDAAmD,CAAC;AAqBnF,MAAMC,cAAyB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,GAAG;EAAEC,QAAQ;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACzE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG1B,QAAQ,CAAU,KAAK,CAAC;EACpD,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAU,IAAI,CAAC;EAC3D,MAAM,CAAC6B,IAAI,EAAEC,OAAO,CAAC,GAAG9B,QAAQ,CAAS,EAAE,CAAC;EAC5C;EACA,MAAM,CAAC+B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGhC,QAAQ,CAAU,KAAK,CAAC;EAC1E,MAAM,CAACiC,UAAU,EAAEC,aAAa,CAAC,GAAGlC,QAAQ,CAAU,KAAK,CAAC;EAC5D,MAAM,CAACmC,WAAW,EAAEC,cAAc,CAAC,GAAGpC,QAAQ,CAAS,CAAC,CAAC;EAEzD,MAAMqC,OAAO,GAAGvC,OAAO,CAAC,MAAM,CAC5B;IACEwC,MAAM,EAAErB,cAAc;IACtBsB,OAAO,EAAE;MAAEC,SAAS,EAAE;IAAY;EACpC,CAAC,CACF,EAAE,EAAE,CAAC;EAEN,MAAMC,aAAa,GAAG1C,MAAM,CAAM,IAAI,CAAC;EAEvC,MAAM2C,aAAa,GAAGxC,WAAW,CAAEyC,UAAU,IAAK;IAChDF,aAAa,CAACG,OAAO,GAAGD,UAAU;IAClCF,aAAa,CAACG,OAAO,CAACC,IAAI,CAACxB,GAAG,CAAC;IAE/BoB,aAAa,CAACG,OAAO,CAACE,EAAE,CAAC,OAAO,EAAE,MAAM;MAAA,IAAAC,qBAAA;MACpCf,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAE;MAC7B,CAAAe,qBAAA,GAAAN,aAAa,CAACG,OAAO,cAAAG,qBAAA,uBAArBA,qBAAA,CAAuBX,cAAc,CAACD,WAAW,CAAC;MAClD,IAAIV,MAAM,EAAE;QAAA,IAAAuB,sBAAA;QACR,CAAAA,sBAAA,GAAAP,aAAa,CAACG,OAAO,cAAAI,sBAAA,uBAArBA,sBAAA,CAAuBC,IAAI,CAAC,CAAC;MACjC;IACJ,CAAC,CAAC;IAEFR,aAAa,CAACG,OAAO,CAACE,EAAE,CAAC,cAAc,EAAE,MAAM;MAC3C,IAAIL,aAAa,CAACG,OAAO,EAAE;QACvBR,cAAc,CAACK,aAAa,CAACG,OAAO,CAACM,cAAc,CAAC,CAAC,CAAC;MAC1D;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,CAAC7B,GAAG,EAAEc,WAAW,EAAEV,MAAM,CAAC,CAAC;EAE5BxB,SAAS,CAAC,MAAM;IACd,IAAIwC,aAAa,CAACG,OAAO,EAAE;MACzB,MAAMO,MAAM,GAAIV,aAAa,CAACG,OAAO,CAACQ,WAAW,CAAC,CAAC;MACnD,IAAID,MAAM,EAAG;QACXV,aAAa,CAACG,OAAO,CAACS,MAAM,CAAClB,WAAW,GAAGgB,MAAM,CAAC;MACpD;IACF;EACF,CAAC,EAAE,CAAChB,WAAW,CAAC,CAAC;EAEjB,MAAMmB,YAAY,GAAIzB,IAAY,IAAK;IACrC,IAAIA,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAG,CAAC;IACtB,IAAIA,IAAI,GAAG,IAAI,EAAEA,IAAI,GAAG,IAAI;IAC5BC,OAAO,CAACD,IAAI,CAAC;EACf,CAAC;EAED5B,SAAS,CAAC,MAAM;IACd,IAAI,CAACwC,aAAa,CAACG,OAAO,EAAE;IAE5Bd,OAAO,CAAC,EAAE,CAAC;IAEX,IAAIT,GAAG,KAAK,EAAE,EAAE;IAEhBoB,aAAa,CAACG,OAAO,CAACC,IAAI,CAACxB,GAAG,CAAC;EACjC,CAAC,EAAE,CAACD,IAAI,EAAEC,GAAG,CAAC,CAAC;EAEfpB,SAAS,CAAC,MAAM;IACZ,IAAIwC,aAAa,CAACG,OAAO,EAAE;MAC3BH,aAAa,CAACG,OAAO,CAACf,IAAI,CAACA,IAAI,CAAC;MAChCY,aAAa,CAACG,OAAO,CAACW,SAAS,CAAC,MAAM,EAAE1B,IAAI,CAAC;IAC7C;EACJ,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV5B,SAAS,CAAC,MAAM;IACd,IAAI,CAACwC,aAAa,CAACG,OAAO,EAAE;IAE5B,IAAInB,MAAM,EAAE;MACVgB,aAAa,CAACG,OAAO,CAACK,IAAI,CAAC,CAAC;IAC9B,CAAC,MAAM;MACLR,aAAa,CAACG,OAAO,CAACY,KAAK,CAAC,CAAC;IAC/B;EACF,CAAC,EAAE,CAAC/B,MAAM,CAAC,CAAC;;EAEZ;EACA;;EAEA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA,MAAMgC,aAAa,GAAGvD,WAAW,CAC5BwD,KAAK,IAAK;IAAA,IAAAC,qBAAA,EAAAC,sBAAA;IACT,IAAI,CAACnB,aAAa,CAACG,OAAO,EAAE;MAC1B;IACF;IAEA,MAAM;MAAEiB,GAAG;MAAEC;IAAQ,CAAC,GAAGJ,KAAK;IAC9B,IAAIK,WAAW,GAAG,EAAAJ,qBAAA,GAAAK,QAAQ,CAACC,aAAa,cAAAN,qBAAA,uBAAtBA,qBAAA,CAAwBO,OAAO,MAAK,UAAU;IAChEH,WAAW,GAAGA,WAAW,IAAI,EAAAH,sBAAA,GAAAI,QAAQ,CAACC,aAAa,cAAAL,sBAAA,uBAAtBA,sBAAA,CAAwBM,OAAO,MAAK,OAAO;IACxE,IAAIC,IAAI,GAAG,IAAI;IACf,IAAIJ,WAAW,EAAE;MACfI,IAAI,GAAGL,OAAO;IAChB;IAEA,IAAID,GAAG,KAAK,GAAG,IAAIM,IAAI,EAAE;MACvBzC,SAAS,CAAE0C,IAAI,IAAK,CAACA,IAAI,CAAC;IAC5B;IAEA,IAAI,CAACP,GAAG,KAAK,GAAG,IAAIA,GAAG,KAAK,GAAG,IAAIA,GAAG,KAAK,GAAG,IAAIA,GAAG,KAAK,GAAG,KAAKM,IAAI,EAAE;MACtE,IAAIE,IAAI,GAAG,CAAC;MACZ;MACA,IAAIR,GAAG,KAAK,GAAG,IAAIA,GAAG,KAAK,GAAG,EAAEQ,IAAI,IAAI,CAAC,CAAC;MAE1C,MAAMC,KAAK,GAAG7B,aAAa,CAACG,OAAO,CAACQ,WAAW,CAAC,CAAC;MACjD,IAAImB,IAAI,GAAG9B,aAAa,CAACG,OAAO,CAACM,cAAc,CAAC,CAAC,GAAGmB,IAAI;MACxD,IAAIE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAG,CAAC;MACtB,IAAIA,IAAI,GAAGD,KAAK,EAAEC,IAAI,GAAGD,KAAK;MAE9B7B,aAAa,CAACG,OAAO,CAACR,cAAc,CAACmC,IAAI,CAAC;MAC1C7C,SAAS,CAAC,IAAI,CAAC;MAEfgC,KAAK,CAACc,cAAc,CAAC,CAAC;MACtBd,KAAK,CAACe,eAAe,CAAC,CAAC;IACzB;EACF,CAAC,EACD,EACJ,CAAC;EAEDxE,SAAS,CAAC,MAAM;IACZyE,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAElB,aAAa,CAAC;IACjD,OAAO,MAAM;MACTiB,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEnB,aAAa,CAAC;IACxD,CAAC;EACL,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,oBACEzC,OAAA,CAACN,KAAK;IACNmE,SAAS,EAAE,CAAE;IACbC,KAAK,EAAE;MACLC,QAAQ,EAAE,OAAO;MACjBC,MAAM,EAAE,CAAC;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,MAAM;MACfC,SAAS,EAAE,YAAY;MACvBC,UAAU,EAAE,kBAAkB;MAC9BC,MAAM,EAAEtD,UAAU,GAAG,OAAO,GAAG,MAAM;MACrCuD,QAAQ,EAAEvD,UAAU,GAAG,MAAM,GAAG;IAClC,CAAE;IAAAwD,QAAA,gBAEFzE,OAAA;MAAK8D,KAAK,EAAE;QAAEY,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE;MAAS,CAAE;MAAAH,QAAA,GACpFxD,UAAU,gBACTjB,OAAA;QAAAyE,QAAA,gBACEzE,OAAA,CAACb,UAAU;UACT0F,KAAK,EAAC,SAAS;UACfC,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAMrE,SAAS,CAAE0C,IAAI,IAAK,CAACA,IAAI,CAAE;UAAAqB,QAAA,EAEzChE,MAAM,gBAAGT,OAAA,CAACX,qBAAqB;YAAC2F,QAAQ,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAAGpF,OAAA,CAACZ,oBAAoB;YAAC4F,QAAQ,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtF,CAAC,eACbpF,OAAA,CAACb,UAAU;UACT0F,KAAK,EAAC,SAAS;UACfC,IAAI,EAAC,QAAQ;UACbO,KAAK,EAAC,mGAAmB;UACzBN,OAAO,EAAEA,CAAA,KAAMzC,YAAY,CAACzB,IAAI,GAAG,CAAC,CAAE;UAAA4D,QAAA,eAEtCzE,OAAA,CAACV,UAAU;YAAC0F,QAAQ,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACbpF,OAAA,CAACb,UAAU;UACT0F,KAAK,EAAC,SAAS;UACfC,IAAI,EAAC,QAAQ;UACbO,KAAK,EAAC,mGAAmB;UACzBN,OAAO,EAAEA,CAAA,KAAMzC,YAAY,CAACzB,IAAI,GAAG,CAAC,CAAE;UAAA4D,QAAA,eAEtCzE,OAAA,CAACT,WAAW;YAACyF,QAAQ,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,gBAENpF,OAAA,CAACF,aAAa;QAACO,GAAG,EAAEA,GAAI;QAACI,MAAM,EAAEA,MAAO;QAACC,SAAS,EAAEA,SAAU;QAACS,WAAW,EAAEA,WAAY;QAACC,cAAc,EAAEA;MAAe;QAAA6D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAC5H,eACDpF,OAAA,CAACb,UAAU;QACT0F,KAAK,EAAC,SAAS;QACfC,IAAI,EAAC,QAAQ;QACbC,OAAO,EAAEA,CAAA,KAAM7D,aAAa,CAAEkC,IAAI,IAAK,CAACA,IAAI,CAAE;QAAAqB,QAAA,EAE7CxD,UAAU,gBAAGjB,OAAA,CAACP,cAAc;UAACuF,QAAQ,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAGpF,OAAA,CAACR,cAAc;UAACwF,QAAQ,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,EACLnE,UAAU,iBACTjB,OAAA;MAAK8D,KAAK,EAAE;QAAEI,KAAK,EAAE,MAAM;QAAEH,QAAQ,EAAE,UAAU;QAAEuB,SAAS,EAAE;MAAO,CAAE;MAAAb,QAAA,gBACrEzE,OAAA,CAACL,UAAU;QAAC4F,OAAO,EAAE7D,aAAc;QAACL,OAAO,EAAEA,OAAQ;QAAAoD,QAAA,gBACnDzE,OAAA,CAACJ,QAAQ;UACP4F,EAAE,EAAC,UAAU;UACbC,SAAS,EAAC,SAAS;UACnBC,aAAa,EAAC,SAAS;UACvBC,WAAW,EAAC,SAAS;UACrBhF,UAAU,EAAEA,UAAW;UACvBiF,aAAa,EAAE;QAAK;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACFpF,OAAA;UAAK8D,KAAK,EAAE;YAAES,MAAM,EAAE;UAAO,CAAE;UAACiB,EAAE,EAAC;QAAU;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,EAEZrE,iBAAiB,IAAIU,aAAa,CAACG,OAAO,IAAItB,QAAQ,CAACuF,GAAG,CAAC,CAACC,EAAE,EAAEC,KAAK,kBACpE/F,OAAA,CAACH,UAAU;QAETmG,OAAO,EAAEF,EAAE,CAACE,OAAQ;QACpBnB,KAAK,EAAEiB,EAAE,CAACjB,KAAM;QAChBoB,UAAU,EAAExE,aAAa,CAACG,OAAQ;QAClCf,IAAI,EAAEA,IAAK;QACXqF,OAAO,EAAEnF,iBAAkB;QAC3BR,YAAY,EAAEA;MAAa,GANtBwF,KAAK;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOX,CACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEZ,CAAC;AAAC5E,EAAA,CA3PIL,cAAyB;AAAAgG,EAAA,GAAzBhG,cAAyB;AA6P/B,eAAeA,cAAc;AAAC,IAAAgG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}