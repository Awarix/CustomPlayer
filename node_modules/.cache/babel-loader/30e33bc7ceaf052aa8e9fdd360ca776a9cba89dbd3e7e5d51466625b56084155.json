{"ast":null,"code":"var _jsxFileName = \"/home/gleb/my_app_test/src/audio/wavesurfer/SuperAudioPlayer/CompactPlayer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport PlayCircleFilledIcon from \"@mui/icons-material/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@mui/icons-material/PauseCircleFilled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompactPlayer = ({\n  url,\n  isPlay,\n  togglePlay,\n  currentTime,\n  setCurrentTime\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  const wavesurferRef = useRef(null);\n  useEffect(() => {\n    if (containerRef.current && !wavesurferRef.current) {\n      wavesurferRef.current = WaveSurfer.create({\n        container: containerRef.current,\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n        height: 40,\n        barWidth: 2,\n        barGap: 1\n      });\n      wavesurferRef.current.on(\"ready\", () => {\n        var _wavesurferRef$curren;\n        (_wavesurferRef$curren = wavesurferRef.current) === null || _wavesurferRef$curren === void 0 ? void 0 : _wavesurferRef$curren.setCurrentTime(currentTime);\n      });\n      wavesurferRef.current.on(\"audioprocess\", () => {\n        if (wavesurferRef.current) {\n          setCurrentTime(wavesurferRef.current.getCurrentTime());\n        }\n      });\n      wavesurferRef.current.load(url);\n    }\n    return () => {\n      var _wavesurferRef$curren2;\n      (_wavesurferRef$curren2 = wavesurferRef.current) === null || _wavesurferRef$curren2 === void 0 ? void 0 : _wavesurferRef$curren2.destroy();\n    };\n  }, [url, currentTime, setCurrentTime]);\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }\n  }, [isPlay]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      color: \"primary\",\n      size: \"medium\",\n      onClick: togglePlay,\n      children: isPlay ? /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 64\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        flex: 1,\n        marginLeft: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(CompactPlayer, \"cfzk0/LK24ukdWwa1/1o6dqrOPI=\");\n_c = CompactPlayer;\nexport default CompactPlayer;\nvar _c;\n$RefreshReg$(_c, \"CompactPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","IconButton","WaveSurfer","PlayCircleFilledIcon","PauseCircleFilledIcon","jsxDEV","_jsxDEV","CompactPlayer","url","isPlay","togglePlay","currentTime","setCurrentTime","_s","containerRef","wavesurferRef","current","create","container","waveColor","progressColor","cursorColor","responsive","height","barWidth","barGap","on","_wavesurferRef$curren","getCurrentTime","load","_wavesurferRef$curren2","destroy","play","pause","style","display","alignItems","width","children","color","size","onClick","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","ref","flex","marginLeft","_c","$RefreshReg$"],"sources":["/home/gleb/my_app_test/src/audio/wavesurfer/SuperAudioPlayer/CompactPlayer.tsx"],"sourcesContent":["import React, { FC, useEffect, useRef } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport WaveSurfer from \"wavesurfer.js\";\nimport PlayCircleFilledIcon from \"@mui/icons-material/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@mui/icons-material/PauseCircleFilled\";\n\nconst CompactPlayer: FC<{\n  url: string;\n  isPlay: boolean;\n  togglePlay: () => void;\n  currentTime: number;\n  setCurrentTime: (time: number) => void;\n}> = ({ url, isPlay, togglePlay, currentTime, setCurrentTime }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const wavesurferRef = useRef<WaveSurfer | null>(null);\n\n  useEffect(() => {\n    if (containerRef.current && !wavesurferRef.current) {\n      wavesurferRef.current = WaveSurfer.create({\n        container: containerRef.current,\n        waveColor: \"#b7e1dd\",\n        progressColor: \"#4Db6AC\",\n        cursorColor: \"#357F78\",\n        responsive: true,\n        height: 40,\n        barWidth: 2,\n        barGap: 1,\n      });\n\n      wavesurferRef.current.on(\"ready\", () => {\n        wavesurferRef.current?.setCurrentTime(currentTime);\n      });\n\n      wavesurferRef.current.on(\"audioprocess\", () => {\n        if (wavesurferRef.current) {\n          setCurrentTime(wavesurferRef.current.getCurrentTime());\n        }\n      });\n\n      wavesurferRef.current.load(url);\n    }\n\n    return () => {\n      wavesurferRef.current?.destroy();\n    };\n  }, [url, currentTime, setCurrentTime]);\n\n  useEffect(() => {\n    if (wavesurferRef.current) {\n      if (isPlay) {\n        wavesurferRef.current.play();\n      } else {\n        wavesurferRef.current.pause();\n      }\n    }\n  }, [isPlay]);\n\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\", width: \"100%\" }}>\n      <IconButton color=\"primary\" size=\"medium\" onClick={togglePlay}>\n        {isPlay ? <PauseCircleFilledIcon fontSize=\"large\" /> : <PlayCircleFilledIcon fontSize=\"large\" />}\n      </IconButton>\n      <div ref={containerRef} style={{ flex: 1, marginLeft: 10 }} />\n    </div>\n  );\n};\n\nexport default CompactPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}